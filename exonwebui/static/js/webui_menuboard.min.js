/*
  :copyright: 2020, ExonLabs. All rights reserved.
  :license: BSD, see LICENSE for more details.
*/
var WebUI=function(a,t){return t.scrolltop=function(n){a("#board-page").animate({scrollTop:0},n||300)},t.board_menu={show:function(){a("body").addClass("MenuToggled")},hide:function(){a("body").removeClass("MenuToggled")},toggle:function(){a("body").toggleClass("MenuToggled")}},t.board_content={old_hash:null,load_neglect:!1,update:function(n){a("#pagebody-contents").html(n),t.scrolltop(0)},error:function(n){t.board_content.update('<div class="p-3"><div class="alert alert-danger text-left"><i class="fa fas fa-ta fa-exclamation-circle"></i> '+n+"</div></div>")},warn:function(n){t.board_content.update('<div class="p-3"><div class="alert alert-warning text-left"><i class="fa fas fa-ta fa-exclamation-circle"></i> '+n+"</div></div>")},info:function(n){t.board_content.update('<div class="p-3"><div class="alert alert-info text-left"><i class="fa fas fa-ta fa-info-circle"></i> '+n+"</div></div>")},success:function(n){t.board_content.update('<div class="p-3"><div class="alert alert-success text-left"><i class="fa fas fa-ta fa-check-circle"></i> '+n+"</div></div>")},load:function(n,a,o){if(t.board_content.load_neglect)return t.board_content.load_neglect=!1,null;t.loader.load(n,a,o,function(n){t.board_content.old_hash=window.location.hash,n.redirect?t.redirect(n.redirect,n.blank):(n.doctitle&&t.doctitle.update(n.doctitle),n.notifications&&t.notify.load(n.notifications),void 0!==n.payload&&t.board_content.update(n.payload))},function(n){t.notify.error(n),t.board_content.old_hash&&(t.board_content.load_neglect=!0,window.location.hash=t.board_content.old_hash)})}},t.board_init=function(){t.init(),a(window).on("resize",function(){window.innerWidth<992&&t.board_menu.hide()}).on("hashchange",function(n){n.preventDefault(),window.innerWidth<992&&t.board_menu.hide(),t.board_content.load("GET",window.location.hash,null)}),a("#board-menubody>ul.metismenu").metisMenu(),a('#board-menubody a.pagelink[href="'+window.location.hash.replace(/[\/?].*$/,"")+'"]').parents("ul").prev("a").click(),a("body").on("click","a.pagelink",function(n){n.preventDefault(),t.redirect(a(this).attr("href"))}),a("#board-menutoggle>a").bind("click",function(n){n.preventDefault(),t.board_menu.toggle()}),a("#board-backdrop").bind("click",function(n){n.preventDefault(),t.board_menu.hide()}),setTimeout(function(){window.location.hash.length<=1?window.location.hash=a("#board-menubody a.pagelink").attr("href"):a(window).trigger("hashchange")},100)},t}(jQuery,WebUI||{});