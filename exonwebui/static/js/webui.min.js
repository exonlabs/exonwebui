/*
  :copyright: 2020, ExonLabs. All rights reserved.
  :license: BSD, see LICENSE for more details.
*/
var WebUI=function(c,r){return r.format_url=function(t){return"/"+t.replace(/^[\/#]/,"")},r.doctitle={base:document.title,update:function(t){void 0!==t&&0<t.length&&(t=t[0].toUpperCase()+t.slice(1),document.title=t+" | "+r.doctitle.base)},reset:function(){document.title=r.doctitle.base}},r.pagelock={show:function(){r.pagelock.hide(),c("body").append('<div id="_UiPageLock" class="page-lock"></div>')},loading:function(){return r.pagelock.hide(),c("body").append('<div id="_UiPageLock" class="page-lock page-loading"><div><a id="_UiPageLock_btnCancel"><i class="fas fa-times"></i></a></div></div>'),c("#_UiPageLock_btnCancel")},hide:function(){c("#_UiPageLock").length&&c("#_UiPageLock").remove()}},r.notify={stack:{dir1:"down",dir2:"left",push:"top",firstpos1:14,firstpos2:10,spacing1:7,spacing2:7},clear:PNotify.removeAll,show:function(t,e,o){o&&PNotify.removeAll(),window.innerWidth<576?(r.notify.stack.firstpos1=0,r.notify.stack.firstpos2=0):(r.notify.stack.firstpos1=14,r.notify.stack.firstpos2=10),"rtl"==c("html").attr("dir")||"rtl"==c("body").attr("dir")?r.notify.stack.dir2="right":r.notify.stack.dir2="left";var i={styling:"fontawesome",icon:!1,animate_speed:"fast",buttons:{sticker:!1,closer:!0},addclass:"stack-custom",stack:r.notify.stack};"error"==t?(i.type="error",i.text='<i class="fas fa-ta fa-exclamation-circle"></i> '+e):"warn"==t?(i.type="notice",i.text='<i class="fas fa-ta fa-exclamation-circle"></i> '+e):"success"==t?(i.type="success",i.text='<i class="fas fa-ta fa-check-circle"></i> '+e):(i.type="info",i.text='<i class="fas fa-ta fa-info-circle"></i> '+e);var n=new PNotify(i);n.get().click(function(){n.remove()})},error:function(t,e){r.notify.show("error",t,e)},warn:function(t,e){r.notify.show("warn",t,e)},info:function(t,e){r.notify.show("info",t,e)},success:function(t,e){r.notify.show("success",t,e)},load:function(t){for(var e=0;e<t.length;e++)r.notify.show(t[e][0],t[e][1])}},r.redirect=function(t,e){void 0!==t&&0<t.length&&("#"==t[0]?t==window.location.hash?c(window).trigger("hashchange"):window.location.hash=t:e?window.open(t):t==window.location?location.reload():window.location=t)},r.request=function(t,e,o,i,n,a){return c.ajax({url:r.format_url(e),type:t,data:o||{},success:function(t,e,o){"function"==typeof i?i(t):(t.notifications&&r.notify.load(t.notifications),t.redirect&&r.redirect(t.redirect,t.blank))},error:function(t,e,o){"abort"==o?o="request cancelled":t.status?o||(o="request failed"):o="service unavailable","function"==typeof n?n(c.i18n._(o)):r.notify.error(c.i18n._(o))},complete:function(t,e){"function"==typeof a&&a()}})},r.loader={req_xhr:null,lock_timer:null,load:function(t,e,o,i,n,a,c){r.loader.cancel(),r.loader.lock_timer=setTimeout(function(){r.pagelock.loading().bind("click",function(t){r.loader.cancel()})},c||500),r.loader.req_xhr=r.request(t,e,o,i,n,function(){"function"==typeof a&&a(),r.loader.reset()})},cancel:function(){r.loader.req_xhr&&r.loader.req_xhr.abort()},reset:function(){r.loader.lock_timer&&clearTimeout(r.loader.lock_timer),r.pagelock.hide(),r.loader.req_xhr=null,r.loader.lock_timer=null}},r.init=function(){var t=c("html").attr("lang");t&&"undefined"!=typeof webui_i18n&&c.i18n.load(webui_i18n,t)},r}(jQuery,WebUI||{});